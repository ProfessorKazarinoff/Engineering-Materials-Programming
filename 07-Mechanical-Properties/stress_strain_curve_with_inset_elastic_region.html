
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>7.2. Inset of Elastic Region &#8212; Materials Science and Engineering Programming</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e7340bb3dbd8dde6db86f25597f54a1b.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7.3. Visuallizing Measurement Error" href="bar_plot_with_error_bars.html" />
    <link rel="prev" title="7.1. Stress-Strain Curves" href="stress-strain-curves.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Materials Science and Engineering Programming</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../welcome.html">
   Engineering Materials Programming Book
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Chapters
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../01-Introduction/ch01-intro.html">
   1. Introduction
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../01-Introduction/why_python.html">
     1.1. Why Python?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-Introduction/installing_anaconda_on_windows.html">
     1.2. Installing Anaconda
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-Introduction/how-to-open-a-jupyter-notebook.html">
     1.3. How to Open a Jupyter Notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-Introduction/python-free-online.html">
     1.4. Python Free Online
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-Introduction/unit_conversions.html">
     1.5. Unit Conversions
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../02-Atomic-Structure-and-Bonding/introduction-atomic-structure-and-bonding.html">
   2. Atomic Structure and Bonding
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Atomic-Structure-and-Bonding/CTE_calc.html">
     2.1. CTE Calculation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Atomic-Structure-and-Bonding/bond-energy-vs-distance.html">
     2.2. Bond Energy vs. Distance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Atomic-Structure-and-Bonding/bar_charts_with_error_bars.html">
     2.3. CTE in a bar chart with error bars
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../03-Crystal-Structure/crystal-structure-intro.html">
   3. Crystal Structure
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../03-Crystal-Structure/unit-cells.html">
     3.1. Unit Cells
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../04-Polymers/polymer-intro.html">
   4. Polymers
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../04-Polymers/polymer-density-problem.html">
     4.1. Polymer Crystallinity
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../05-Defects/defects-intro.html">
   5. Defects
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../05-Defects/vacancy_calculation.html">
     5.1. Vacancy Defect Calculation
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../06-Diffusion/diffusion-intro.html">
   6. Diffusion
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../06-Diffusion/diffusion_calculation.html">
     6.1. Diffusion Calculation
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="mechanical-properties-intro.html">
   7. Mechanical Properties
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="stress-strain-curves.html">
     7.1. Stress-Strain Curves
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     7.2. Inset of Elastic Region
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bar_plot_with_error_bars.html">
     7.3. Visuallizing Measurement Error
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../08-Cold-Working/cold-work-intro.html">
   8. Cold Working
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../08-Cold-Working/cold_work_problem.html">
     8.1. Cold Work Problem
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../99-Appendix/about_the_author.html">
   About the Author
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/07-Mechanical-Properties/stress_strain_curve_with_inset_elastic_region.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/ProfessorKazarinoff/Engineering-Materials-Programming/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/ProfessorKazarinoff/Engineering-Materials-Programming//issues/new?title=Issue%20on%20page%20%2F07-Mechanical-Properties/stress_strain_curve_with_inset_elastic_region.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/ProfessorKazarinoff/Engineering-Materials-Programming/main?urlpath=tree/Engineering-Materials-Programming-Book/07-Mechanical-Properties/stress_strain_curve_with_inset_elastic_region.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="inset-of-elastic-region">
<h1><span class="section-number">7.2. </span>Inset of Elastic Region<a class="headerlink" href="#inset-of-elastic-region" title="Permalink to this headline">¶</a></h1>
<p>This is the second section on how to plot stress strain curves with Python and Matplotlib. In the previous section we built a stress strain curve from the data in two .xls data files. The plot built in the previous section included two lines, axes labels, a title and legend. The data in the plot came from two .xls excel files and was from a tensile test of two metal samples.</p>
<p>The code below builds the plot in the previous section.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">steel_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;Al60601_raw_data.xls&quot;</span><span class="p">)</span>
<span class="n">al_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;Steel1018_raw_data.xls&quot;</span><span class="p">)</span>

<span class="n">strain_al</span> <span class="o">=</span> <span class="n">al_df</span><span class="p">[</span><span class="s1">&#39;CH5&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.01</span>
<span class="n">d_al</span> <span class="o">=</span> <span class="mf">0.506</span>
<span class="n">stress_al</span> <span class="o">=</span> <span class="p">(</span><span class="n">al_df</span><span class="p">[</span><span class="s1">&#39;FORCE&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.001</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">((</span><span class="n">d_al</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="n">strain_steel</span> <span class="o">=</span> <span class="n">steel_df</span><span class="p">[</span><span class="s1">&#39;CH5&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.01</span>
<span class="n">d_steel</span> <span class="o">=</span> <span class="mf">0.506</span>
<span class="n">stress_steel</span> <span class="o">=</span> <span class="p">(</span><span class="n">steel_df</span><span class="p">[</span><span class="s1">&#39;FORCE&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.001</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">((</span><span class="n">d_steel</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">strain_al</span><span class="p">,</span><span class="n">stress_al</span><span class="p">,</span><span class="n">strain_steel</span><span class="p">,</span><span class="n">stress_steel</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;strain (in/in)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;stress (ksi)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Stress Strain Curve of Aluminum 6061 and Steel 1045 in tension&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Aluminum 6061&#39;</span><span class="p">,</span><span class="s1">&#39;Steel 1045&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING *** OLE2 inconsistency: SSCS size is 0 but SSAT size is non-zero
WARNING *** OLE2 inconsistency: SSCS size is 0 but SSAT size is non-zero
</pre></div>
</div>
<img alt="../_images/stress_strain_curve_with_inset_elastic_region_2_1.png" src="../_images/stress_strain_curve_with_inset_elastic_region_2_1.png" />
</div>
</div>
<p>In this section, we are going to add an inset curve to the plot that shows the linear elastic region. An inset curve is a small plot that is placed within a plot that shows a zoomed-in view of the larger plot. On a stress-strain cuve, an inset curve is used to zoom-in on the linear elastic region on the plot.</p>
<p>To build our inset curve, we will use Python and Matplotlib’s object-oriented interface. The plot above was constructed using the Matplotlib’s <strong>pyplot</strong> interface. For a simple plot, the pyplot interface above is sufficient.</p>
<p>But our plot with an inset curve is more complicated than the plot above. Matplotlib’s object-oriented interface allows us to access individual components of the plot, like axes, and set specific attributes on these components. This added versitility means we can include an inset curve within another plot.</p>
<p>To build the plot with an inset curve, first we need to import a couple modules: NumPy, Pandas, and Matplotlib. These three modules have common import aliases <code class="docutils literal notranslate"><span class="pre">np</span></code>, <code class="docutils literal notranslate"><span class="pre">pd</span></code>, and <code class="docutils literal notranslate"><span class="pre">plt</span></code>. The line <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">inline</span></code> is a Jupyter notebook magic command that will show plots directly in a Jupyter notebook. If you are coding your inset curve in a .py file, leave <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">inline</span></code> out, as it is not valid Python code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<p>Next we need to bring in the data from two external files into variables in our script. The two external files that contain the data we are going to plot are linked below:</p>
<p><a class="reference external" href="https://github.com/ProfessorKazarinoff/Engineering-Materials-Programming/raw/main/Engineering-Materials-Programming-Book/07-Mechanical-Properties/Al60601_raw_data.xls">Al60601_raw_data.xls</a></p>
<p><a class="reference external" href="https://github.com/ProfessorKazarinoff/Engineering-Materials-Programming/raw/main/Engineering-Materials-Programming-Book/07-Mechanical-Properties/Steel1018_raw_data.xls">Steel1018_raw_data.xls</a></p>
<p>If you are following along and building an inset curve yourself, make sure to download the .xls data files and place these data files in the same directory as you Jupyter notebook or Python script.</p>
<p>A conveniant Jupyter notebook magic command, <code class="docutils literal notranslate"><span class="pre">%ls</span></code>, lists the contents of the current directory (the directory where the notebook is saved). Make sure you can see the two .xls data files in this directory.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">ls</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ABS_HIPS_plot_with_error_bars.png
Al60601_raw_data.xls
Steel1018_raw_data.xls
bar_plot_with_error_bars.ipynb
mechanical-properties-intro.md
stress-strain-curves.ipynb
stress_strain_curve_with_inset.png
stress_strain_curve_with_inset_elastic_region.ipynb
</pre></div>
</div>
</div>
</div>
<p>We can see the two data files <code class="docutils literal notranslate"><span class="pre">Al60601_raw_data.xls</span></code> and <code class="docutils literal notranslate"><span class="pre">Steel1018_raw_data.xls</span></code> in the same folder as our Jupyter notebook <code class="docutils literal notranslate"><span class="pre">stress_strain_curve_with_inset_elastic_region.ipynb</span></code></p>
<p>Next, we will read in the two .xls data files using Pandas <code class="docutils literal notranslate"><span class="pre">pd.read_excel()</span></code> function. The result is two Pandas dataframes <code class="docutils literal notranslate"><span class="pre">steel_df</span></code> and <code class="docutils literal notranslate"><span class="pre">al_df</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">steel_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;Al60601_raw_data.xls&quot;</span><span class="p">)</span>
<span class="n">al_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;Steel1018_raw_data.xls&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING *** OLE2 inconsistency: SSCS size is 0 but SSAT size is non-zero
WARNING *** OLE2 inconsistency: SSCS size is 0 but SSAT size is non-zero
</pre></div>
</div>
</div>
</div>
<p>We can use Pandas <code class="docutils literal notranslate"><span class="pre">df.head()</span></code> method to view the first five rows of each dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">steel_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>TESTNUM</th>
      <th>POINTNUM</th>
      <th>TIME</th>
      <th>POSIT</th>
      <th>FORCE</th>
      <th>EXT</th>
      <th>CH5</th>
      <th>CH6</th>
      <th>CH7</th>
      <th>CH8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>542</td>
      <td>1</td>
      <td>8.470</td>
      <td>0.02256</td>
      <td>201.146011</td>
      <td>-0.001444</td>
      <td>0.007552</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>542</td>
      <td>2</td>
      <td>8.632</td>
      <td>0.02330</td>
      <td>206.599442</td>
      <td>0.000302</td>
      <td>0.007552</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>542</td>
      <td>3</td>
      <td>10.027</td>
      <td>0.02846</td>
      <td>287.512573</td>
      <td>0.003044</td>
      <td>0.018898</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>542</td>
      <td>4</td>
      <td>11.031</td>
      <td>0.03232</td>
      <td>365.380981</td>
      <td>0.009881</td>
      <td>0.022061</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>542</td>
      <td>5</td>
      <td>11.928</td>
      <td>0.03616</td>
      <td>447.813965</td>
      <td>0.014085</td>
      <td>0.033652</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">al_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>TESTNUM</th>
      <th>POINTNUM</th>
      <th>TIME</th>
      <th>POSIT</th>
      <th>FORCE</th>
      <th>EXT</th>
      <th>CH5</th>
      <th>CH6</th>
      <th>CH7</th>
      <th>CH8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>523</td>
      <td>1</td>
      <td>6.189</td>
      <td>0.07302</td>
      <td>202.924728</td>
      <td>0.000402</td>
      <td>-0.028272</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>523</td>
      <td>2</td>
      <td>6.549</td>
      <td>0.07396</td>
      <td>205.714890</td>
      <td>-0.000238</td>
      <td>-0.034549</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>523</td>
      <td>3</td>
      <td>7.148</td>
      <td>0.07624</td>
      <td>217.763336</td>
      <td>-0.000713</td>
      <td>-0.030140</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>523</td>
      <td>4</td>
      <td>9.146</td>
      <td>0.08438</td>
      <td>316.306122</td>
      <td>0.002377</td>
      <td>-0.025968</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>523</td>
      <td>5</td>
      <td>10.041</td>
      <td>0.08822</td>
      <td>417.003357</td>
      <td>0.003089</td>
      <td>-0.024100</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We see a couple of columns in each dataframe. The columns we are interest in are below:</p>
<ul class="simple">
<li><p><strong>FORCE</strong> Force measurements from the load cell in pounds (lb)</p></li>
<li><p><strong>EXT</strong> Extension measurements from the mechanical extensometer in percent (%), strain in percent</p></li>
<li><p><strong>CH5</strong> Extension readings from the laser extensometer in percent (%), strain in percent</p></li>
</ul>
<p>We will use these columns from the dataframes in the following ways</p>
<ul class="simple">
<li><p><strong>FORCE</strong> will be converted to stress using the cross-sectional area of our test samples</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ \sigma = \frac{F}{A_0} \]</div>
<ul class="simple">
<li><p><strong>EXT</strong> (mechanical exstensometer readings) will be converted into strain on our inset cuve</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ \epsilon_{unitless} = \epsilon_{\%} \times 0.01 \]</div>
<ul class="simple">
<li><p><strong>CH5</strong> (laser extensometer readings) will be converted into strain on the overall, large stress strain curve</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ \epsilon_{unitless} = \epsilon_{\%} \times 0.01 \]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">strain_al_plastic</span> <span class="o">=</span> <span class="n">al_df</span><span class="p">[</span><span class="s1">&#39;CH5&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.01</span>
<span class="n">strain_al_elastic</span> <span class="o">=</span> <span class="n">al_df</span><span class="p">[</span><span class="s1">&#39;EXT&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.01</span>
<span class="n">d_al</span> <span class="o">=</span> <span class="mf">0.506</span>
<span class="n">stress_al</span> <span class="o">=</span> <span class="p">(</span><span class="n">al_df</span><span class="p">[</span><span class="s1">&#39;FORCE&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.001</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">((</span><span class="n">d_al</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

<span class="n">strain_steel_plastic</span> <span class="o">=</span> <span class="n">steel_df</span><span class="p">[</span><span class="s1">&#39;CH5&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.01</span>
<span class="n">strain_steel_elastic</span> <span class="o">=</span> <span class="n">steel_df</span><span class="p">[</span><span class="s1">&#39;EXT&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.01</span>
<span class="n">d_steel</span> <span class="o">=</span> <span class="mf">0.506</span>
<span class="n">stress_steel</span> <span class="o">=</span> <span class="p">(</span><span class="n">steel_df</span><span class="p">[</span><span class="s1">&#39;FORCE&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">0.001</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">((</span><span class="n">d_steel</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Now that we have the data in 6 pandas series, we can build a simple plot. We’ll use Matplotlib’s object-oriented interface to create to objects, a figure object called <code class="docutils literal notranslate"><span class="pre">fig</span></code> and an axes object <code class="docutils literal notranslate"><span class="pre">ax1</span></code>. Then we can run the <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method on our <code class="docutils literal notranslate"><span class="pre">ax1</span></code> object and pass in two sets of series. The command <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code> shows the plot.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">strain_al_plastic</span><span class="p">,</span><span class="n">stress_al</span><span class="p">,</span><span class="n">strain_steel_plastic</span><span class="p">,</span><span class="n">stress_steel</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/stress_strain_curve_with_inset_elastic_region_16_0.png" src="../_images/stress_strain_curve_with_inset_elastic_region_16_0.png" />
</div>
</div>
<p>We see a plot that contains two lines.</p>
<p>Next let’s use Matplotlib’s object-oriented interface to add axis labels and titles. Below is a chart that relates how to use Matplotlib’s <code class="docutils literal notranslate"><span class="pre">plt</span></code> approach, compared to the object-oriented approach that we’ll use.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>plot component</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">plt</span></code> approach</p></th>
<th class="head"><p>object-oriented approach</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>x-axis label</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">plt.xlabel('strain')</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ax.set_xlabel('strain')</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>y-axis label</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">plt.ylabel('stress</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ax.set_xyabel('stress')</span></code></p></td>
</tr>
<tr class="row-even"><td><p>title</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">plt.title('stress</span> <span class="pre">strain</span> <span class="pre">curve')</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ax.set_title('stress</span> <span class="pre">strain</span> <span class="pre">curve')</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>legend</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">plt.legend(['Al6061','Steel1045])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ax.legend(['Al6061','Steel1045])</span></code></p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">([</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">strain_al_plastic</span><span class="p">,</span><span class="n">stress_al</span><span class="p">,</span><span class="n">strain_steel_plastic</span><span class="p">,</span><span class="n">stress_steel</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Al6061&#39;</span><span class="p">,</span><span class="s1">&#39;Steel1045&#39;</span><span class="p">])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Strain (in/in)&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Stress (ksi)&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Stress Strain Curve of Al6061 and Steel1045 in Tension&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/stress_strain_curve_with_inset_elastic_region_18_0.png" src="../_images/stress_strain_curve_with_inset_elastic_region_18_0.png" />
</div>
</div>
<p>Next, let’s  add the inset curve. Our inset curve is a zoomed-in view of the linear elastic region. We’ll use Matplotlib’s <code class="docutils literal notranslate"><span class="pre">ax.add_axes([</span> <span class="pre">])</span></code> method. This method outputs a new axis object <code class="docutils literal notranslate"><span class="pre">ax2</span></code>. <code class="docutils literal notranslate"><span class="pre">ax2</span></code> will be the axes that we plot the inset curve on. We can set attributes like <code class="docutils literal notranslate"><span class="pre">.set_xlabel()</span></code> on our <code class="docutils literal notranslate"><span class="pre">ax2</span></code> object to add labels to the axis, add a title, and limit the x and y axis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">([</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">strain_al_plastic</span><span class="p">,</span><span class="n">stress_al</span><span class="p">,</span><span class="n">strain_steel_plastic</span><span class="p">,</span><span class="n">stress_steel</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Al6061&#39;</span><span class="p">,</span><span class="s1">&#39;Steel1045&#39;</span><span class="p">])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Strain (in/in)&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Stress (ksi)&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Stress Strain Curve of Al6061 and Steel1045 in Tension </span><span class="se">\n</span><span class="s1"> with inset curve of elastic region&#39;</span><span class="p">)</span>

<span class="n">left</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.35</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">]</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="n">left</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">strain_al_elastic</span><span class="p">,</span><span class="n">stress_al</span><span class="p">,</span><span class="n">strain_steel_elastic</span><span class="p">,</span> <span class="n">stress_steel</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Strain (in/in)&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Stress (ksi)&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Inset of Elastic Region&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.006</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">75</span><span class="p">])</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;stress_strain_curve_with_inset.png&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/stress_strain_curve_with_inset_elastic_region_20_0.png" src="../_images/stress_strain_curve_with_inset_elastic_region_20_0.png" />
</div>
</div>
<p>We see a plot that contains an inset curve. The inset curve has two lines, just like the large plot. The inset curve has axis labels and a title. The same colors in the main plot is used in the inset plot.</p>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>In this section, we plotted a stress strain curve with Python and Matplotlib. We used Matplotlib’s object oriented interface to build the inset curve. Our inset curve was added on top of our main plot.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./07-Mechanical-Properties"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="stress-strain-curves.html" title="previous page"><span class="section-number">7.1. </span>Stress-Strain Curves</a>
    <a class='right-next' id="next-link" href="bar_plot_with_error_bars.html" title="next page"><span class="section-number">7.3. </span>Visuallizing Measurement Error</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Peter D. Kazarinoff<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>